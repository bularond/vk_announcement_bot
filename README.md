# Согласованный програмный интерфейс умного города

## База данных API

### Events

База данных для хранения всех событий

|  Название           | Тип данных           | Пример                                                               | Описание                                           |
|:------------------- |:-------------------- |:-------------------------------------------------------------------- |:-------------------------------------------------- |
| type_id             | int                  | 1                                                                    | id типа сообщения                                  |
| type                | string               | 'energy'                                                             | Тип сообщения                                      |
| begin               | unixtime             |                                                                      | Дата и время начала события                        |
| end                 | unixtime             |                                                                      | Дата и время окончания события                     |
| point               | GeoJSON Point        | {                                                                    | Геопозиция события                                 |
|                     |                      |  type: "Point",                                                      |                                                    |
|                     |                      |  coordinates: [ [40 , 5] ]                                           |                                                    |
|                     |                      | }                                                                    |                                                    |
| area                | GeoJSON Polygon      | {                                                                    |                                                    |
|                     |                      |  type: "Polygon",                                                    |                                                    |
|                     |                      |  coordinates: [ [ [0 , 5], [5 , 5], [5 , 0], [0 , 0], [0 , 5] ] ]    |                                                    |
|                     |                      | }                                                                    |                                                    |
| description         | string               | "Отключение водоснабжения"                                           | Описание события                                   |
| contsct_information | string               | "Сочи «Водоканал»  8 (862) 444-05-05 abonent@svdk.su"                | Контактная информация                              |
| instruction         | string               | "Запасите воду для мытья рук и посуды"                               | Инструкция действий для события                    |

### Type_event

База данных для хранения существующих типов событий

|  Название           | Тип данных           | Пример                                                               | Описание                                           |
|:------------------- |:-------------------- |:-------------------------------------------------------------------- |:-------------------------------------------------- |
| type_bid            | int                  | 1                                                                    | id типа сообщения                                  |
| type                | string               | 'energy'                                                             | Тип сообщения                                      |
| description         | string               | "Отключение водоснабжения"                                           | Описание события                                   |

## База данных реализации

### Users

|  Название           | Тип данных             | Пример                                                          | Описание                                                                         |
|:------------------- |:---------------------- |:--------------------------------------------------------------- |:-------------------------------------------------------------------------------- |
| id                  | int                    | 1                                                               | id пользователя                                                                  |
| name                | string                 | 'Александр'                                                     | Имя пользователя                                                                 |
| email               | string                 | 'alexandr2002@gmail.com'                                        | email пользователя                                                               |
| house_geopos        | GeoJSON Point          | {                                                               | Геопозиция                                                                       |
|                     |                        |  type: "Point",                                                 |                                                                                  |
|                     |                        |  coordinates: [ [ 40, 5 ] ]                                     |                                                                                  |
|                     |                        | }                                                               |                                                                                  |
| street              | string                 | "Земляничная улица"                                             | Улица, на которой живет пользователь                                             |
| house               | string                 | "6a"                                                            | Дом, в котором живет пользователь                                                |
| password            | string                 | "PaSsWoRd"                                                      | Пароль пользователя                                                              |
| wishlist            | list[                  | [                                                               | Список "подписок" пользователя                                                   |
|                     |  int:type_enent,       |  {'type_event': 'energy', 'event_time_before': 2},              | id события                                                                       |
|                     |  int:event_time_before |  {'type_event': 'whater', 'event_time_before': 1}               | Максимальное количество дней, за которое пользователь хочет получить информацию  |   
|                     | ]                      | ]                                                               |                                                                                  |
